import{r as e,_ as t,a as n,h as o,R as r}from"./vendor.BWW6EDoN.js";import{$ as l,a,b as i,c as s,d as c,e as d,f as u,g as p,h as f,i as v,j as m,k as h,l as w,m as g,n as y,o as S,p as b,q as x,r as E}from"./radix-ui.BRcFjTSI.js";const C=[" ","Enter","ArrowUp","ArrowDown"],k=[" ","Enter"],T="Select",[I,_,P]=s(T),[R,D]=a(T,[P,l]),L=l(),[M,H]=R(T),[O,B]=R(T),A=e.forwardRef(((n,o)=>{const{__scopeSelect:r,disabled:l=!1,...a}=n,s=L(r),p=H("SelectTrigger",r),f=p.disabled||l,v=i(o,p.onTriggerChange),m=_(r),[h,w,g]=fe((e=>{const t=m().filter((e=>!e.disabled)),n=t.find((e=>e.value===p.value)),o=ve(t,e,n);void 0!==o&&p.onValueChange(o.value)})),y=()=>{f||(p.onOpenChange(!0),g())};return e.createElement(c,t({asChild:!0},s),e.createElement(d.button,t({type:"button",role:"combobox","aria-controls":p.contentId,"aria-expanded":p.open,"aria-required":p.required,"aria-autocomplete":"none",dir:p.dir,"data-state":p.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":(S=p.value,""===S||void 0===S?"":void 0)},a,{ref:v,onClick:u(a.onClick,(e=>{e.currentTarget.focus()})),onPointerDown:u(a.onPointerDown,(e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&(y(),p.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)},e.preventDefault())})),onKeyDown:u(a.onKeyDown,(e=>{const t=""!==h.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||w(e.key),t&&" "===e.key||C.includes(e.key)&&(y(),e.preventDefault())}))})));var S})),K=e.forwardRef(((n,o)=>{const{__scopeSelect:r,children:l,...a}=n;return e.createElement(d.span,t({"aria-hidden":!0},a,{ref:o}),l||"â–¼")})),W="SelectContent",F=e.forwardRef(((o,r)=>{const l=H(W,o.__scopeSelect),[a,i]=e.useState();if(p((()=>{i(new DocumentFragment)}),[]),!l.open){const t=a;return t?n.createPortal(e.createElement(N,{scope:o.__scopeSelect},e.createElement(I.Slot,{scope:o.__scopeSelect},e.createElement("div",null,o.children))),t):null}return e.createElement(j,t({},o,{ref:r}))})),V=10,[N,U]=R(W),j=e.forwardRef(((n,l)=>{const{__scopeSelect:a,position:s="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:d,onPointerDownOutside:p,side:f,sideOffset:v,align:m,alignOffset:S,arrowPadding:b,collisionBoundary:x,collisionPadding:E,sticky:C,hideWhenDetached:k,avoidCollisions:T,...I}=n,P=H(W,a),[R,D]=e.useState(null),[L,M]=e.useState(null),O=i(l,(e=>D(e))),[B,A]=e.useState(null),[K,F]=e.useState(null),V=_(a),[U,j]=e.useState(!1),$=e.useRef(!1);e.useEffect((()=>{if(R)return o(R)}),[R]),h();const X=e.useCallback((e=>{const[t,...n]=V().map((e=>e.ref.current)),[o]=n.slice(-1),r=document.activeElement;for(const l of e){if(l===r)return;if(null==l||l.scrollIntoView({block:"nearest"}),l===t&&L&&(L.scrollTop=0),l===o&&L&&(L.scrollTop=L.scrollHeight),null==l||l.focus(),document.activeElement!==r)return}}),[V,L]),Y=e.useCallback((()=>X([B,R])),[X,B,R]);e.useEffect((()=>{U&&Y()}),[U,Y]);const{onOpenChange:G,triggerPointerDownPosRef:Z}=P;e.useEffect((()=>{if(R){let e={x:0,y:0};const t=t=>{var n,o,r,l;e={x:Math.abs(Math.round(t.pageX)-(null!==(n=null===(o=Z.current)||void 0===o?void 0:o.x)&&void 0!==n?n:0)),y:Math.abs(Math.round(t.pageY)-(null!==(r=null===(l=Z.current)||void 0===l?void 0:l.y)&&void 0!==r?r:0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():R.contains(n.target)||G(!1),document.removeEventListener("pointermove",t),Z.current=null};return null!==Z.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}}),[R,G,Z]),e.useEffect((()=>{const e=()=>G(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}}),[G]);const[J,Q]=fe((e=>{const t=V().filter((e=>!e.disabled)),n=t.find((e=>e.ref.current===document.activeElement)),o=ve(t,e,n);o&&setTimeout((()=>o.ref.current.focus()))})),ee=e.useCallback(((e,t,n)=>{const o=!$.current&&!n;(void 0!==P.value&&P.value===t||o)&&(A(e),o&&($.current=!0))}),[P.value]),te=e.useCallback((()=>null==R?void 0:R.focus()),[R]),ne=e.useCallback(((e,t,n)=>{const o=!$.current&&!n;(void 0!==P.value&&P.value===t||o)&&F(e)}),[P.value]),oe="popper"===s?q:z,re=oe===q?{side:f,sideOffset:v,align:m,alignOffset:S,arrowPadding:b,collisionBoundary:x,collisionPadding:E,sticky:C,hideWhenDetached:k,avoidCollisions:T}:{};return e.createElement(N,{scope:a,content:R,viewport:L,onViewportChange:M,itemRefCallback:ee,selectedItem:B,onItemLeave:te,itemTextRefCallback:ne,focusSelectedItem:Y,selectedItemText:K,position:s,isPositioned:U,searchRef:J},e.createElement(r,{as:w,allowPinchZoom:!0},e.createElement(g,{asChild:!0,trapped:P.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:u(c,(e=>{var t;null===(t=P.trigger)||void 0===t||t.focus({preventScroll:!0}),e.preventDefault()}))},e.createElement(y,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:p,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>P.onOpenChange(!1)},e.createElement(oe,t({role:"listbox",id:P.contentId,"data-state":P.open?"open":"closed",dir:P.dir,onContextMenu:e=>e.preventDefault()},I,re,{onPlaced:()=>j(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...I.style},onKeyDown:u(I.onKeyDown,(e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||Q(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=V().filter((e=>!e.disabled)).map((e=>e.ref.current));if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const n=e.target,o=t.indexOf(n);t=t.slice(o+1)}setTimeout((()=>X(t))),e.preventDefault()}}))}))))))})),z=e.forwardRef(((n,o)=>{const{__scopeSelect:r,onPlaced:l,...a}=n,s=H(W,r),c=U(W,r),[u,f]=e.useState(null),[v,m]=e.useState(null),h=i(o,(e=>m(e))),w=_(r),g=e.useRef(!1),y=e.useRef(!0),{viewport:S,selectedItem:x,selectedItemText:E,focusSelectedItem:C}=c,k=e.useCallback((()=>{if(s.trigger&&s.valueNode&&u&&v&&S&&x&&E){const e=s.trigger.getBoundingClientRect(),t=v.getBoundingClientRect(),n=s.valueNode.getBoundingClientRect(),o=E.getBoundingClientRect();if("rtl"!==s.dir){const r=o.left-t.left,l=n.left-r,a=e.left-l,i=e.width+a,s=Math.max(i,t.width),c=window.innerWidth-V,d=b(l,[V,c-s]);u.style.minWidth=i+"px",u.style.left=d+"px"}else{const r=t.right-o.right,l=window.innerWidth-n.right-r,a=window.innerWidth-e.right-l,i=e.width+a,s=Math.max(i,t.width),c=window.innerWidth-V,d=b(l,[V,c-s]);u.style.minWidth=i+"px",u.style.right=d+"px"}const r=w(),a=window.innerHeight-2*V,i=S.scrollHeight,c=window.getComputedStyle(v),d=parseInt(c.borderTopWidth,10),p=parseInt(c.paddingTop,10),f=parseInt(c.borderBottomWidth,10),m=d+p+i+parseInt(c.paddingBottom,10)+f,h=Math.min(5*x.offsetHeight,m),y=window.getComputedStyle(S),C=parseInt(y.paddingTop,10),k=parseInt(y.paddingBottom,10),T=e.top+e.height/2-V,I=a-T,_=x.offsetHeight/2,P=d+p+(x.offsetTop+_),R=m-P;if(P<=T){const e=x===r[r.length-1].ref.current;u.style.bottom="0px";const t=v.clientHeight-S.offsetTop-S.offsetHeight,n=P+Math.max(I,_+(e?k:0)+t+f);u.style.height=n+"px"}else{const e=x===r[0].ref.current;u.style.top="0px";const t=Math.max(T,d+S.offsetTop+(e?C:0)+_)+R;u.style.height=t+"px",S.scrollTop=P-T+S.offsetTop}u.style.margin=`${V}px 0`,u.style.minHeight=h+"px",u.style.maxHeight=a+"px",null==l||l(),requestAnimationFrame((()=>g.current=!0))}}),[w,s.trigger,s.valueNode,u,v,S,x,E,s.dir,l]);p((()=>k()),[k]);const[T,I]=e.useState();p((()=>{v&&I(window.getComputedStyle(v).zIndex)}),[v]);const P=e.useCallback((e=>{e&&!0===y.current&&(k(),null==C||C(),y.current=!1)}),[k,C]);return e.createElement($,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:g,onScrollButtonChange:P},e.createElement("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T}},e.createElement(d.div,t({},a,{ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}}))))})),q=e.forwardRef(((n,o)=>{const{__scopeSelect:r,align:l="start",collisionPadding:a=V,...i}=n,s=L(r);return e.createElement(S,t({},s,i,{ref:o,align:l,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))})),[$,X]=R(W,{}),Y="SelectViewport",G=e.forwardRef(((n,o)=>{const{__scopeSelect:r,...l}=n,a=U(Y,r),s=X(Y,r),c=i(o,a.onViewportChange),p=e.useRef(0);return e.createElement(e.Fragment,null,e.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),e.createElement(I.Slot,{scope:r},e.createElement(d.div,t({"data-radix-select-viewport":"",role:"presentation"},l,{ref:c,style:{position:"relative",flex:1,overflow:"auto",...l.style},onScroll:u(l.onScroll,(e=>{const t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:o}=s;if(null!=o&&o.current&&n){const e=Math.abs(p.current-t.scrollTop);if(e>0){const o=window.innerHeight-2*V,r=parseFloat(n.style.minHeight),l=parseFloat(n.style.height),a=Math.max(r,l);if(a<o){const r=a+e,l=Math.min(o,r),i=r-l;n.style.height=l+"px","0px"===n.style.bottom&&(t.scrollTop=i>0?i:0,n.style.justifyContent="flex-end")}}}p.current=t.scrollTop}))}))))})),[Z,J]=R("SelectGroup"),Q=e.forwardRef(((n,o)=>{const{__scopeSelect:r,...l}=n,a=J("SelectLabel",r);return e.createElement(d.div,t({id:a.id},l,{ref:o}))})),ee="SelectItem",[te,ne]=R(ee),oe=e.forwardRef(((n,o)=>{const{__scopeSelect:r,value:l,disabled:a=!1,textValue:s,...c}=n,p=H(ee,r),f=U(ee,r),m=p.value===l,[h,w]=e.useState(null!=s?s:""),[g,y]=e.useState(!1),S=i(o,(e=>{var t;return null===(t=f.itemRefCallback)||void 0===t?void 0:t.call(f,e,l,a)})),b=v(),x=()=>{a||(p.onValueChange(l),p.onOpenChange(!1))};if(""===l)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.createElement(te,{scope:r,value:l,disabled:a,textId:b,isSelected:m,onItemTextChange:e.useCallback((e=>{w((t=>{var n;return t||(null!==(n=null==e?void 0:e.textContent)&&void 0!==n?n:"").trim()}))}),[])},e.createElement(I.ItemSlot,{scope:r,value:l,disabled:a,textValue:h},e.createElement(d.div,t({role:"option","aria-labelledby":b,"data-highlighted":g?"":void 0,"aria-selected":m&&g,"data-state":m?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1},c,{ref:S,onFocus:u(c.onFocus,(()=>y(!0))),onBlur:u(c.onBlur,(()=>y(!1))),onPointerUp:u(c.onPointerUp,x),onPointerMove:u(c.onPointerMove,(e=>{var t;a?null===(t=f.onItemLeave)||void 0===t||t.call(f):e.currentTarget.focus({preventScroll:!0})})),onPointerLeave:u(c.onPointerLeave,(e=>{var t;e.currentTarget===document.activeElement&&(null===(t=f.onItemLeave)||void 0===t||t.call(f))})),onKeyDown:u(c.onKeyDown,(e=>{var t;""!==(null===(t=f.searchRef)||void 0===t?void 0:t.current)&&" "===e.key||(k.includes(e.key)&&x()," "===e.key&&e.preventDefault())}))}))))})),re="SelectItemText",le=e.forwardRef(((o,r)=>{const{__scopeSelect:l,className:a,style:s,...c}=o,u=H(re,l),f=U(re,l),v=ne(re,l),m=B(re,l),[h,w]=e.useState(null),g=i(r,(e=>w(e)),v.onItemTextChange,(e=>{var t;return null===(t=f.itemTextRefCallback)||void 0===t?void 0:t.call(f,e,v.value,v.disabled)})),y=null==h?void 0:h.textContent,S=e.useMemo((()=>e.createElement("option",{key:v.value,value:v.value,disabled:v.disabled},y)),[v.disabled,v.value,y]),{onNativeOptionAdd:b,onNativeOptionRemove:x}=m;return p((()=>(b(S),()=>x(S))),[b,x,S]),e.createElement(e.Fragment,null,e.createElement(d.span,t({id:v.textId},c,{ref:g})),v.isSelected&&u.valueNode&&!u.valueNodeHasChildren?n.createPortal(c.children,u.valueNode):null)})),ae=e.forwardRef(((n,o)=>{const{__scopeSelect:r,...l}=n;return ne("SelectItemIndicator",r).isSelected?e.createElement(d.span,t({"aria-hidden":!0},l,{ref:o})):null})),ie="SelectScrollUpButton",se=e.forwardRef(((n,o)=>{const r=U(ie,n.__scopeSelect),l=X(ie,n.__scopeSelect),[a,s]=e.useState(!1),c=i(o,l.onScrollButtonChange);return p((()=>{if(r.viewport&&r.isPositioned){let e=function(){const e=t.scrollTop>0;s(e)};const t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}}),[r.viewport,r.isPositioned]),a?e.createElement(ue,t({},n,{ref:c,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}})):null})),ce="SelectScrollDownButton",de=e.forwardRef(((n,o)=>{const r=U(ce,n.__scopeSelect),l=X(ce,n.__scopeSelect),[a,s]=e.useState(!1),c=i(o,l.onScrollButtonChange);return p((()=>{if(r.viewport&&r.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,n=Math.ceil(t.scrollTop)<e;s(n)};const t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}}),[r.viewport,r.isPositioned]),a?e.createElement(ue,t({},n,{ref:c,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}})):null})),ue=e.forwardRef(((n,o)=>{const{__scopeSelect:r,onAutoScroll:l,...a}=n,i=U("SelectScrollButton",r),s=e.useRef(null),c=_(r),f=e.useCallback((()=>{null!==s.current&&(window.clearInterval(s.current),s.current=null)}),[]);return e.useEffect((()=>()=>f()),[f]),p((()=>{var e;const t=c().find((e=>e.ref.current===document.activeElement));null==t||null===(e=t.ref.current)||void 0===e||e.scrollIntoView({block:"nearest"})}),[c]),e.createElement(d.div,t({"aria-hidden":!0},a,{ref:o,style:{flexShrink:0,...a.style},onPointerDown:u(a.onPointerDown,(()=>{null===s.current&&(s.current=window.setInterval(l,50))})),onPointerMove:u(a.onPointerMove,(()=>{var e;null===(e=i.onItemLeave)||void 0===e||e.call(i),null===s.current&&(s.current=window.setInterval(l,50))})),onPointerLeave:u(a.onPointerLeave,(()=>{f()}))}))})),pe=e.forwardRef(((n,o)=>{const{__scopeSelect:r,...l}=n;return e.createElement(d.div,t({"aria-hidden":!0},l,{ref:o}))}));function fe(t){const n=m(t),o=e.useRef(""),r=e.useRef(0),l=e.useCallback((e=>{const t=o.current+e;n(t),function e(t){o.current=t,window.clearTimeout(r.current),""!==t&&(r.current=window.setTimeout((()=>e("")),1e3))}(t)}),[n]),a=e.useCallback((()=>{o.current="",window.clearTimeout(r.current)}),[]);return e.useEffect((()=>()=>window.clearTimeout(r.current)),[]),[o,l,a]}function ve(e,t,n){const o=t.length>1&&Array.from(t).every((e=>e===t[0]))?t[0]:t,r=n?e.indexOf(n):-1;let l=(a=e,i=Math.max(r,0),a.map(((e,t)=>a[(i+t)%a.length])));var a,i;1===o.length&&(l=l.filter((e=>e!==n)));const s=l.find((e=>e.textValue.toLowerCase().startsWith(o.toLowerCase())));return s!==n?s:void 0}e.forwardRef(((n,o)=>{const{value:r,...l}=n,a=e.useRef(null),s=i(o,a),c=x(r);return e.useEffect((()=>{const e=a.current,t=window.HTMLSelectElement.prototype,n=Object.getOwnPropertyDescriptor(t,"value").set;if(c!==r&&n){const t=new Event("change",{bubbles:!0});n.call(e,r),e.dispatchEvent(t)}}),[c,r]),e.createElement(E,{asChild:!0},e.createElement("select",t({},l,{ref:s,defaultValue:r})))})).displayName="BubbleSelect";const me=A,he=K,we=n=>e.createElement(f,t({asChild:!0},n)),ge=F,ye=G,Se=Q,be=oe,xe=le,Ee=ae,Ce=se,ke=de,Te=pe;export{me as $,he as a,Ce as b,ke as c,we as d,ge as e,ye as f,Se as g,be as h,Ee as i,xe as j,Te as k};
